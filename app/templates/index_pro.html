<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCPanel</title>
    <link rel="stylesheet" href="/static/style_clean.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <aside class="sidebar">
        <div class="logo">
            <i class="fas fa-cubes"></i>
            <h1>MCPanel</h1>
        </div>
        
        <div class="user-info" id="user-info">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="user-details">
                <span class="user-name" id="user-name">Admin</span>
                <span class="user-role" id="user-role">Administrateur</span>
            </div>
            <div class="user-menu">
                <button onclick="openSettings()" title="Param√®tres"><i class="fas fa-cog"></i></button>
                <button onclick="logout()" title="D√©connexion"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </div>
        
        <!-- Navigation -->
        <nav class="nav-menu">
            <button class="nav-item active" data-section="dashboard" onclick="showSection('dashboard')">
                <i class="fas fa-th-large"></i>
                <span data-i18n="nav.dashboard">Tableau de bord</span>
            </button>
            <button class="nav-item" data-section="servers" onclick="showSection('servers')">
                <i class="fas fa-server"></i>
                <span data-i18n="nav.servers">Serveurs</span>
            </button>
            <button class="nav-item" data-section="notifications" onclick="showSection('notifications')">
                <i class="fas fa-bell"></i>
                <span data-i18n="nav.notifications">Notifications</span>
                <span class="badge" id="notif-badge" style="display:none">0</span>
            </button>
            <button class="nav-item" data-section="settings" onclick="showSection('settings')">
                <i class="fas fa-sliders-h"></i>
                <span data-i18n="nav.settings">Param√®tres</span>
            </button>
        </nav>
        
        <div class="sidebar-divider"></div>
        
        <!-- Server List -->
        <div class="sidebar-label">Serveurs</div>
        <div class="server-list" id="server-list"></div>
        
        <button class="btn-create-large" onclick="openModal()">
            <i class="fas fa-plus-circle"></i>
            <span data-i18n="server.create">Nouveau Serveur</span>
        </button>
        
        <!-- System Stats Mini -->
        <div class="system-mini">
            <div class="mini-stat">
                <i class="fas fa-microchip"></i>
                <span id="mini-cpu">0%</span>
            </div>
            <div class="mini-stat">
                <i class="fas fa-memory"></i>
                <span id="mini-ram">0%</span>
            </div>
            <div class="mini-stat">
                <i class="fas fa-hdd"></i>
                <span id="mini-disk">0%</span>
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
        <!-- SECTION: DASHBOARD -->
        <section id="section-dashboard" class="section active">
            <div class="section-header">
                <h2><i class="fas fa-th-large"></i> Tableau de bord</h2>
                <div class="header-actions">
                    <button class="btn-icon" onclick="refreshAll()" title="Actualiser">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>
            
            <!-- System Metrics Cards -->
            <div class="metrics-grid">
                <div class="metric-card cpu">
                    <div class="metric-icon"><i class="fas fa-microchip"></i></div>
                    <div class="metric-content">
                        <span class="metric-label">CPU</span>
                        <span class="metric-value" id="dash-cpu">0%</span>
                    </div>
                    <div class="metric-chart">
                        <canvas id="chart-cpu" width="100" height="40"></canvas>
                    </div>
                </div>
                <div class="metric-card ram">
                    <div class="metric-icon"><i class="fas fa-memory"></i></div>
                    <div class="metric-content">
                        <span class="metric-label">RAM</span>
                        <span class="metric-value" id="dash-ram">0 / 0 GB</span>
                    </div>
                    <div class="metric-chart">
                        <canvas id="chart-ram" width="100" height="40"></canvas>
                    </div>
                </div>
                <div class="metric-card disk">
                    <div class="metric-icon"><i class="fas fa-hdd"></i></div>
                    <div class="metric-content">
                        <span class="metric-label">Disque</span>
                        <span class="metric-value" id="dash-disk">0 / 0 GB</span>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar" id="disk-progress" style="width: 0%"></div>
                    </div>
                </div>
                <div class="metric-card servers">
                    <div class="metric-icon"><i class="fas fa-server"></i></div>
                    <div class="metric-content">
                        <span class="metric-label">Serveurs</span>
                        <span class="metric-value"><span id="dash-servers-online">0</span> / <span id="dash-servers-total">0</span></span>
                    </div>
                </div>
            </div>
            
            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <div class="dashboard-card servers-overview">
                    <div class="card-header">
                        <h3><i class="fas fa-server"></i> Serveurs</h3>
                        <button class="btn-sm" onclick="openModal()">
                            <i class="fas fa-plus"></i> Nouveau
                        </button>
                    </div>
                    <div class="servers-table" id="servers-table"></div>
                </div>
                
                <div class="dashboard-card recent-activity">
                    <div class="card-header">
                        <h3><i class="fas fa-clock"></i> Activit√© r√©cente</h3>
                    </div>
                    <div class="activity-list" id="activity-list"></div>
                </div>
            </div>
            
            <!-- Main Chart -->
            <div class="charts-grid">
                <div class="chart-card">
                    <div class="card-header">
                        <h3><i class="fas fa-chart-area"></i> Performance syst√®me</h3>
                        <select id="chart-period" onchange="updateChartPeriod(this.value)">
                            <option value="60">1 minute</option>
                            <option value="300" selected>5 minutes</option>
                        </select>
                    </div>
                    <canvas id="main-chart" height="200"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION: SERVERS -->
        <section id="section-servers" class="section">
            <div id="servers-list-view">
                <div class="section-header">
                    <h2><i class="fas fa-server"></i> Serveurs</h2>
                    <button class="btn-primary" onclick="openModal()">
                        <i class="fas fa-plus"></i> Nouveau serveur
                    </button>
                </div>
                <div class="servers-grid" id="servers-grid"></div>
            </div>
            
            <div id="server-detail-view" style="display: none;">
                <div class="server-header">
                    <button class="btn-back" onclick="showServersList()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <div class="server-info">
                        <h2 id="detail-server-name">Serveur</h2>
                        <div class="status-badge offline" id="detail-status">
                            <span class="status-dot"></span>
                            <span id="detail-status-text">OFFLINE</span>
                        </div>
                        <div class="server-address-display" id="server-address-display" style="display: none;">
                            <i class="fas fa-link"></i>
                            <span id="server-address-text">-</span>
                            <button class="copy-btn-small" onclick="copyCurrentServerAddress()" title="Copier l'adresse">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                    <div class="server-actions">
                        <button class="action-btn start" id="btn-start" onclick="serverAction('start')">
                            <i class="fas fa-play"></i>
                        </button>
                        <button class="action-btn" id="btn-restart" onclick="serverAction('restart')">
                            <i class="fas fa-rotate-right"></i>
                        </button>
                        <button class="action-btn stop" id="btn-stop" onclick="serverAction('stop')">
                            <i class="fas fa-stop"></i>
                        </button>
                        <button class="action-btn" onclick="backupServer()">
                            <i class="fas fa-download"></i>
                        </button>
                        <button class="action-btn" id="btn-playit" onclick="startPlayitTunnel()" title="Share with Playit.gg">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="action-btn danger" onclick="deleteServer()">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
                
                <div class="tabs">
                    <button class="tab active" data-view="console" onclick="switchTab('console')">
                        <i class="fas fa-terminal"></i> Console
                    </button>
                    <button class="tab" data-view="players" onclick="switchTab('players')">
                        <i class="fas fa-users"></i> Joueurs
                    </button>
                    <button class="tab" data-view="plugins" onclick="switchTab('plugins')">
                        <i class="fas fa-puzzle-piece"></i> Plugins
                    </button>
                    <button class="tab" data-view="config" onclick="switchTab('config')">
                        <i class="fas fa-cog"></i> Configuration
                    </button>
                    <button class="tab" data-view="backups" onclick="switchTab('backups')">
                        <i class="fas fa-archive"></i> Sauvegardes
                    </button>
                </div>
                
                <div class="tab-content">
                    <!-- Console -->
                    <div id="view-console" class="view active">
                        <div class="console-stats">
                            <div class="stat-mini"><i class="fas fa-microchip"></i> <span id="stat-cpu">0%</span></div>
                            <div class="stat-mini"><i class="fas fa-memory"></i> <span id="stat-ram">0 MB</span></div>
                            <div class="stat-mini"><i class="fas fa-users"></i> <span id="stat-players">0</span></div>
                            <div class="stat-mini"><i class="fas fa-tachometer-alt"></i> <span id="stat-tps">20.0</span> TPS</div>
                        </div>
                        
                        <div class="console-toolbar">
                            <div class="console-filters">
                                <button class="filter-btn active" data-filter="all" onclick="filterLogs('all')">Tout</button>
                                <button class="filter-btn" data-filter="info" onclick="filterLogs('info')">Info</button>
                                <button class="filter-btn" data-filter="warn" onclick="filterLogs('warn')">Warn</button>
                                <button class="filter-btn" data-filter="error" onclick="filterLogs('error')">Error</button>
                            </div>
                            <div class="console-actions">
                                <input type="text" id="log-search" placeholder="Rechercher..." class="search-input" oninput="searchLogs()">
                                <button class="btn-icon" onclick="exportLogs()" title="Exporter">
                                    <i class="fas fa-download"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="console-container" id="logs"></div>
                        
                        <div class="console-input">
                            <span class="console-prompt">&gt;</span>
                            <input type="text" id="cmd-input" placeholder="Entrez une commande..." onkeydown="handleCommandInput(event)">
                            <button class="btn-send" onclick="sendCommand()">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Players -->
                    <div id="view-players" class="view">
                        <div class="players-header">
                            <input type="text" id="player-search" placeholder="Rechercher un joueur..." class="search-input">
                        </div>
                        <div class="players-grid" id="players-grid"></div>
                    </div>
                    
                    <!-- Plugins -->
                    <div id="view-plugins" class="view">
                        <div class="plugins-header">
                            <h3>Plugins Install√©s</h3>
                            <button class="btn-primary-large" onclick="document.getElementById('plugin-upload').click()">
                                <i class="fas fa-upload"></i> Importer un plugin
                            </button>
                            <input type="file" id="plugin-upload" accept=".jar" class="visually-hidden" onchange="uploadPlugin(this.files[0])">
                        </div>
                        <div class="plugins-grid" id="installed-plugins"></div>
                        
                        <div class="plugins-search-section">
                            <h3>Rechercher des plugins</h3>
                            <div class="search-bar">
                                <input type="text" id="plugin-search" placeholder="Rechercher sur Hangar..." onkeydown="if(event.key==='Enter') searchPlugins()">
                                <button class="btn-search" onclick="searchPlugins()">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                            <div class="plugins-results-container">
                                <div class="plugins-grid" id="search-results"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Config -->
                    <div id="view-config" class="view">
                        <div class="config-header">
                            <h3>Configuration server.properties</h3>
                            <button class="btn-save-config" onclick="saveConfig()">
                                <i class="fas fa-save"></i> Enregistrer les modifications
                            </button>
                        </div>
                        <div class="config-scroll-container">
                            <div class="config-grid" id="config-grid"></div>
                        </div>
                    </div>
                    
                    <!-- Backups -->
                    <div id="view-backups" class="view">
                        <div class="backups-header">
                            <h3>Sauvegardes</h3>
                            <div class="backups-actions">
                                <button class="btn-secondary-large" onclick="openScheduleModal()">
                                    <i class="fas fa-clock"></i> Planifier
                                </button>
                                <button class="btn-primary-large" onclick="backupServer()">
                                    <i class="fas fa-plus"></i> Nouvelle sauvegarde
                                </button>
                            </div>
                        </div>
                        <div class="backups-list" id="backups-list"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION: NOTIFICATIONS -->
        <section id="section-notifications" class="section">
            <div class="section-header">
                <h2><i class="fas fa-bell"></i> Notifications</h2>
                <button class="btn-secondary" onclick="markAllNotificationsRead()">
                    <i class="fas fa-check-double"></i> Tout marquer lu
                </button>
            </div>
            <div class="notifications-list" id="notifications-list"></div>
        </section>

        <!-- SECTION: SETTINGS -->
        <section id="section-settings" class="section">
            <div class="section-header">
                <h2><i class="fas fa-sliders-h"></i> Param√®tres</h2>
            </div>
            
            <div class="settings-grid">
                <!-- CARTE EFFETS VISUELS - SHADERS -->
                <div class="settings-card settings-card-wide shader-card">
                    <div class="settings-card-header">
                        <i class="fas fa-magic"></i>
                        <h3>Effets Visuels & Shaders</h3>
                    </div>
                    <div class="settings-content">
                        <p class="settings-description">
                            üéÆ Activez des effets visuels inspir√©s d'Optifine/Iris pour une exp√©rience immersive !
                        </p>
                        
                        <div class="shader-presets">
                            <button class="shader-preset-btn" onclick="setShaderPreset('none')" data-shader="none">
                                <i class="fas fa-times-circle"></i>
                                <span>D√©sactiv√©</span>
                            </button>
                            <button class="shader-preset-btn" onclick="setShaderPreset('bloom')" data-shader="bloom">
                                <i class="fas fa-sun"></i>
                                <span>Bloom</span>
                            </button>
                            <button class="shader-preset-btn" onclick="setShaderPreset('neon')" data-shader="neon">
                                <i class="fas fa-lightbulb"></i>
                                <span>N√©on</span>
                            </button>
                            <button class="shader-preset-btn" onclick="setShaderPreset('chromatic')" data-shader="chromatic">
                                <i class="fas fa-adjust"></i>
                                <span>Chromatique</span>
                            </button>
                            <button class="shader-preset-btn" onclick="setShaderPreset('vignette')" data-shader="vignette">
                                <i class="fas fa-circle"></i>
                                <span>Vignette</span>
                            </button>
                            <button class="shader-preset-btn" onclick="setShaderPreset('scanlines')" data-shader="scanlines">
                                <i class="fas fa-tv"></i>
                                <span>CRT</span>
                            </button>
                        </div>

                        <div class="visual-options">
                            <div class="setting-row">
                                <label><i class="fas fa-lightbulb"></i> Fullbright (Luminosit√© max)</label>
                                <label class="switch">
                                    <input type="checkbox" id="fullbright-toggle" onchange="toggleFullbright(this.checked)">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CARTE UPSCALING / DLSS -->
                <div class="settings-card upscaling-card">
                    <div class="settings-card-header">
                        <i class="fas fa-expand-arrows-alt"></i>
                        <h3>Upscaling (DLSS/FSR)</h3>
                    </div>
                    <div class="settings-content">
                        <p class="settings-description">
                            Simule les technologies d'upscaling comme NVIDIA DLSS ou AMD FSR.
                        </p>
                        <div class="upscaling-modes">
                            <button class="upscaling-btn active" onclick="setUpscaling('off')" data-upscaling="off">
                                <span class="upscaling-name">OFF</span>
                            </button>
                            <button class="upscaling-btn" onclick="setUpscaling('quality')" data-upscaling="quality">
                                <span class="upscaling-name">Qualit√©</span>
                                <span class="upscaling-tech">DLSS</span>
                            </button>
                            <button class="upscaling-btn" onclick="setUpscaling('balanced')" data-upscaling="balanced">
                                <span class="upscaling-name">√âquilibr√©</span>
                                <span class="upscaling-tech">DLSS</span>
                            </button>
                            <button class="upscaling-btn" onclick="setUpscaling('performance')" data-upscaling="performance">
                                <span class="upscaling-name">Performance</span>
                                <span class="upscaling-tech">DLSS</span>
                            </button>
                            <button class="upscaling-btn" onclick="setUpscaling('fsr')" data-upscaling="fsr">
                                <span class="upscaling-name">FSR</span>
                                <span class="upscaling-tech">AMD</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CARTE PERFORMANCE -->
                <div class="settings-card perf-card">
                    <div class="settings-card-header">
                        <i class="fas fa-tachometer-alt"></i>
                        <h3>Performance</h3>
                    </div>
                    <div class="settings-content">
                        <div class="perf-modes">
                            <div class="perf-mode-card" onclick="setPerformanceMode('eco')">
                                <input type="radio" name="perf-mode" value="eco" id="perf-eco">
                                <label for="perf-eco">
                                    <i class="fas fa-leaf"></i>
                                    <span class="mode-name">ECO</span>
                                    <span class="mode-desc">CPU minimal</span>
                                </label>
                            </div>
                            <div class="perf-mode-card" onclick="setPerformanceMode('balanced')">
                                <input type="radio" name="perf-mode" value="balanced" id="perf-balanced" checked>
                                <label for="perf-balanced">
                                    <i class="fas fa-balance-scale"></i>
                                    <span class="mode-name">√âQUILIBR√â</span>
                                    <span class="mode-desc">Recommand√©</span>
                                </label>
                            </div>
                            <div class="perf-mode-card" onclick="setPerformanceMode('gpu')">
                                <input type="radio" name="perf-mode" value="gpu" id="perf-gpu">
                                <label for="perf-gpu">
                                    <i class="fas fa-bolt"></i>
                                    <span class="mode-name">MAX</span>
                                    <span class="mode-desc">GPU requis</span>
                                </label>
                            </div>
                        </div>
                        <div class="setting-row gpu-option">
                            <label><i class="fas fa-video"></i> Carte graphique</label>
                            <label class="switch">
                                <input type="checkbox" id="gpu-toggle" checked onchange="toggleGPU(this.checked)">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-palette"></i>
                        <h3>Apparence</h3>
                    </div>
                    <div class="settings-content">
                        <div class="setting-row">
                            <label>Th√®me</label>
                            <div class="theme-toggle">
                                <button class="theme-btn active" data-theme="dark" onclick="setTheme('dark')">
                                    <i class="fas fa-moon"></i> Sombre
                                </button>
                                <button class="theme-btn" data-theme="light" onclick="setTheme('light')">
                                    <i class="fas fa-sun"></i> Clair
                                </button>
                            </div>
                        </div>
                        <div class="setting-row">
                            <label>Langue</label>
                            <select id="lang-select" onchange="changeLanguage(this.value)">
                                <option value="fr">üá´üá∑ Fran√ßais</option>
                                <option value="en">üá¨üáß English</option>
                                <option value="es">üá™üá∏ Espa√±ol</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-server"></i>
                        <h3>Serveurs par d√©faut</h3>
                    </div>
                    <div class="settings-content">
                        <div class="setting-row">
                            <label>RAM par d√©faut (MB)</label>
                            <input type="number" id="default-ram" value="2048" min="1024" step="512" class="setting-input">
                        </div>
                        <div class="setting-row">
                            <label>Port par d√©faut</label>
                            <input type="number" id="default-port" value="25565" min="1024" max="65535" class="setting-input">
                        </div>
                        <div class="setting-row">
                            <label>D√©marrage auto</label>
                            <label class="switch">
                                <input type="checkbox" id="autostart-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="settings-card settings-card-wide">
                    <div class="settings-card-header">
                        <i class="fas fa-globe"></i>
                        <h3>Adresse de connexion</h3>
                    </div>
                    <div class="settings-content">
                        <p class="settings-description">
                            Configurez comment les joueurs se connectent √† vos serveurs. 
                            Utilisez un sous-domaine personnalis√© (comme Aternos) ou votre propre IP.
                        </p>
                        <div class="setting-row">
                            <label>Mode sous-domaine</label>
                            <label class="switch">
                                <input type="checkbox" id="use-subdomain" onchange="toggleAddressMode()">
                                <span class="slider"></span>
                            </label>
                        </div>
                        
                        <div id="subdomain-config" style="display:none">
                            <div class="setting-row">
                                <label>Votre domaine</label>
                                <input type="text" id="custom-domain" placeholder="exemple: monserveur.fr" class="setting-input">
                            </div>
                            <div class="address-preview">
                                <i class="fas fa-info-circle"></i>
                                <span>Adresse de connexion: <strong>[nom-serveur].monserveur.fr</strong></span>
                            </div>
                            <p class="settings-hint">
                                <i class="fas fa-lightbulb"></i> 
                                Configurez un enregistrement DNS wildcard (*.votredomaine.fr) pointant vers votre IP.
                            </p>
                        </div>
                        
                        <div id="ip-config">
                            <div class="setting-row">
                                <label>IP publique ou domaine</label>
                                <input type="text" id="custom-ip" placeholder="Ex: 192.168.1.100 ou play.monserveur.fr" class="setting-input">
                            </div>
                            <button class="btn-secondary" onclick="detectPublicIP()">
                                <i class="fas fa-search"></i> D√©tecter mon IP
                            </button>
                        </div>
                        
                        <div class="setting-actions">
                            <button class="btn-primary" onclick="saveAddressConfig()">
                                <i class="fas fa-save"></i> Sauvegarder
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-bell"></i>
                        <h3>Notifications</h3>
                    </div>
                    <div class="settings-content">
                        <div class="setting-row">
                            <label>Notifications navigateur</label>
                            <label class="switch">
                                <input type="checkbox" id="browser-notif-toggle" onchange="toggleBrowserNotifications(this.checked)">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <label>Sons</label>
                            <label class="switch">
                                <input type="checkbox" id="sounds-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <label>Discord Webhook</label>
                            <div class="input-with-btn">
                                <input type="text" id="discord-webhook" placeholder="https://discord.com/api/webhooks/...">
                                <button class="btn-test" onclick="testDiscord()">Test</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-database"></i>
                        <h3>Sauvegardes automatiques</h3>
                    </div>
                    <div class="settings-content">
                        <div class="setting-row">
                            <label>Activer</label>
                            <label class="switch">
                                <input type="checkbox" id="auto-backup-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <label>Fr√©quence</label>
                            <select id="backup-frequency" class="setting-select">
                                <option value="hourly">Toutes les heures</option>
                                <option value="daily" selected>Quotidien</option>
                                <option value="weekly">Hebdomadaire</option>
                            </select>
                        </div>
                        <div class="setting-row">
                            <label>R√©tention (jours)</label>
                            <input type="number" id="backup-retention" value="7" min="1" max="90" class="setting-input">
                        </div>
                        <div class="setting-row">
                            <label>Compression</label>
                            <label class="switch">
                                <input type="checkbox" id="backup-compress-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-shield-alt"></i>
                        <h3>S√©curit√©</h3>
                    </div>
                    <div class="settings-content">
                        <div class="setting-row">
                            <label>Session timeout (min)</label>
                            <input type="number" id="session-timeout" value="60" min="5" max="480" class="setting-input">
                        </div>
                        <div class="setting-row">
                            <label>Double authentification</label>
                            <label class="switch">
                                <input type="checkbox" id="2fa-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="setting-row">
                            <label>Logs de connexion</label>
                            <label class="switch">
                                <input type="checkbox" id="login-logs-toggle" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="settings-card admin-only" id="users-settings">
                    <div class="settings-card-header">
                        <i class="fas fa-users-cog"></i>
                        <h3>Utilisateurs</h3>
                        <button class="btn-sm" onclick="openUserModal()">
                            <i class="fas fa-plus"></i> Ajouter
                        </button>
                    </div>
                    <div class="settings-content">
                        <div class="users-list" id="users-list"></div>
                    </div>
                </div>
                
                <div class="settings-card">
                    <div class="settings-card-header">
                        <i class="fas fa-info-circle"></i>
                        <h3>√Ä propos</h3>
                    </div>
                    <div class="settings-content">
                        <div class="about-info">
                            <p><strong>Manager Pro</strong> v1.0.0</p>
                            <p>Gestionnaire de serveurs Minecraft</p>
                            <p class="text-muted">¬© 2025 - Tous droits r√©serv√©s</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- MODALS -->
    <div id="create-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2><i class="fas fa-plus-circle"></i> Nouveau Serveur</h2>
                <button class="btn-close" onclick="closeModal()"><i class="fas fa-times"></i></button>
            </div>
            <form onsubmit="createServer(event)">
                <div class="form-group">
                    <label>Nom du serveur</label>
                    <input type="text" id="server-name-input" placeholder="mon-serveur" required pattern="[a-zA-Z0-9_-]+" class="input-large">
                </div>
                <div class="form-group">
                    <label>Version Minecraft</label>
                    <select id="server-version" required class="select-large"></select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>RAM Min (MB)</label>
                        <input type="number" id="ram-min" value="1024" min="512" step="256" required class="input-large">
                    </div>
                    <div class="form-group">
                        <label>RAM Max (MB)</label>
                        <input type="number" id="ram-max" value="2048" min="1024" step="256" required class="input-large">
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary-large" onclick="closeModal()">Annuler</button>
                    <button type="submit" class="btn-primary-large btn-create-server">
                        <i class="fas fa-rocket"></i> Cr√©er le serveur
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Player Details Modal -->
    <div id="player-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <div class="player-modal-header">
                    <img id="player-modal-avatar" src="" alt="" class="player-modal-avatar">
                    <div>
                        <h2 id="player-modal-name">Joueur</h2>
                        <span id="player-modal-uuid" class="text-muted"></span>
                    </div>
                </div>
                <button class="btn-close" onclick="closePlayerModal()"><i class="fas fa-times"></i></button>
            </div>
            <div class="player-modal-body">
                <!-- Player Stats -->
                <div class="player-stats-grid">
                    <div class="player-stat-card">
                        <i class="fas fa-heart"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-health">20</span>
                            <span class="stat-label">Sant√©</span>
                        </div>
                    </div>
                    <div class="player-stat-card">
                        <i class="fas fa-drumstick-bite"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-food">20</span>
                            <span class="stat-label">Faim</span>
                        </div>
                    </div>
                    <div class="player-stat-card">
                        <i class="fas fa-star"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-xp">0</span>
                            <span class="stat-label">Niveau XP</span>
                        </div>
                    </div>
                    <div class="player-stat-card">
                        <i class="fas fa-map-marker-alt"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-pos">N/A</span>
                            <span class="stat-label">Position</span>
                        </div>
                    </div>
                    <div class="player-stat-card">
                        <i class="fas fa-clock"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-playtime">0h</span>
                            <span class="stat-label">Temps de jeu</span>
                        </div>
                    </div>
                    <div class="player-stat-card">
                        <i class="fas fa-skull"></i>
                        <div class="stat-info">
                            <span class="stat-value" id="player-deaths">0</span>
                            <span class="stat-label">Morts</span>
                        </div>
                    </div>
                </div>

                <!-- Player Actions -->
                <div class="player-actions-bar">
                    <button class="btn-action-op" onclick="playerAction(currentPlayerName, 'op')">
                        <i class="fas fa-crown"></i> OP
                    </button>
                    <button class="btn-action-deop" onclick="playerAction(currentPlayerName, 'deop')">
                        <i class="fas fa-crown"></i> Deop
                    </button>
                    <button class="btn-action-gm" onclick="playerAction(currentPlayerName, 'gm_s')">
                        <i class="fas fa-shield-alt"></i> Survie
                    </button>
                    <button class="btn-action-gm" onclick="playerAction(currentPlayerName, 'gm_c')">
                        <i class="fas fa-cube"></i> Cr√©atif
                    </button>
                    <button class="btn-action-warn" onclick="playerAction(currentPlayerName, 'kick')">
                        <i class="fas fa-sign-out-alt"></i> Kick
                    </button>
                    <button class="btn-action-danger" onclick="playerAction(currentPlayerName, 'ban')">
                        <i class="fas fa-ban"></i> Ban
                    </button>
                    <button class="btn-action-danger" onclick="playerAction(currentPlayerName, 'kill')">
                        <i class="fas fa-skull-crossbones"></i> Kill
                    </button>
                    <button class="btn-action-warn" onclick="playerAction(currentPlayerName, 'clear')">
                        <i class="fas fa-trash"></i> Clear
                    </button>
                </div>

                <!-- Inventory Tabs -->
                <div class="inventory-tabs">
                    <button class="inv-tab active" onclick="switchInventoryTab('inventory')">
                        <i class="fas fa-box"></i> Inventaire
                    </button>
                    <button class="inv-tab" onclick="switchInventoryTab('enderchest')">
                        <i class="fas fa-chest"></i> Enderchest
                    </button>
                    <button class="inv-tab" onclick="switchInventoryTab('armor')">
                        <i class="fas fa-shield-alt"></i> Armure
                    </button>
                </div>

                <!-- Inventory Grid -->
                <div id="inventory-view" class="inventory-container">
                    <div class="inventory-grid" id="player-inventory"></div>
                </div>
                <div id="enderchest-view" class="inventory-container" style="display:none">
                    <div class="inventory-grid" id="player-enderchest"></div>
                </div>
                <div id="armor-view" class="inventory-container" style="display:none">
                    <div class="armor-display" id="player-armor"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="schedule-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-calendar-alt"></i> Planifier sauvegardes</h2>
                <button class="btn-close" onclick="closeScheduleModal()"><i class="fas fa-times"></i></button>
            </div>
            <form onsubmit="saveSchedule(event)">
                <div class="form-group">
                    <label>Fr√©quence</label>
                    <select id="schedule-type">
                        <option value="hourly">Toutes les heures</option>
                        <option value="daily" selected>Quotidien</option>
                        <option value="weekly">Hebdomadaire</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>R√©tention</label>
                    <input type="number" id="schedule-retention" value="7" min="1" max="30">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeScheduleModal()">Annuler</button>
                    <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Enregistrer</button>
                </div>
            </form>
        </div>
    </div>

    <div id="user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-user-plus"></i> Nouvel utilisateur</h2>
                <button class="btn-close" onclick="closeUserModal()"><i class="fas fa-times"></i></button>
            </div>
            <form onsubmit="createUser(event)">
                <div class="form-group">
                    <label>Nom d'utilisateur</label>
                    <input type="text" id="new-username" required>
                </div>
                <div class="form-group">
                    <label>Mot de passe</label>
                    <input type="password" id="new-password" required minlength="4">
                </div>
                <div class="form-group">
                    <label>R√¥le</label>
                    <select id="new-role">
                        <option value="user">Utilisateur</option>
                        <option value="admin">Administrateur</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeUserModal()">Annuler</button>
                    <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Cr√©er</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast-container"></div>

    <script src="/static/app_pro.js"></script>
</body>
</html>
